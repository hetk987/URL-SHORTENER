{"ast":null,"code":"import{nanoid}from'nanoid';import{getDatabase,ref,set}from'firebase/database';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InputURL(_ref){var setInputValue=_ref.setInputValue;var longURL='';var errors=[];var errorMessage={};var setValue=function setValue(value){longURL=value;};var handleClick=function handleClick(){console.log('HERE');setInputValue(generateShortLink(longURL));longURL='';};function isRealURL(string){try{new URL(string);return true;}catch(err){return false;}}function validateURL(url){if(url.length===0){errors.push(\"longURL\");errorMessage[\"longURL\"]=\"Please enter your URL\";console.log(\"Please enter your URL\");return false;}else if(!isRealURL(longURL)){errors.push(\"longURL\");errorMessage[\"longURL\"]=\"Please a URL in the form https://www....\";console.log(\"Please a URL in the form https://www....\");return false;}else{return true;}}function generateShortLink(){if(validateURL(longURL)){var generatedKey=nanoid(5);var generateURL=\"shortify.com/\"+generatedKey;var db=getDatabase();set(ref(db,'/'+generatedKey),{generatedKey:generatedKey,longURL:longURL,generateURL:generateURL}).catch(function(e){console.log('FAILED');});return generateURL;}else{console.log(\"ERROR\");console.log(longURL);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"URL \",/*#__PURE__*/_jsx(\"span\",{children:\"Shortener\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input\",type:\"input\",class:\"inputfield\",placeholder:\"Your URL\",onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,type:\"button\",class:\"btn\",children:\"Submit\"})]})]});}export default InputURL;","map":{"version":3,"names":["nanoid","getDatabase","ref","set","jsx","_jsx","jsxs","_jsxs","InputURL","_ref","setInputValue","longURL","errors","errorMessage","setValue","value","handleClick","console","log","generateShortLink","isRealURL","string","URL","err","validateURL","url","length","push","generatedKey","generateURL","db","catch","e","className","children","class","id","type","placeholder","onChange","target","onClick"],"sources":["/Users/hetk/Desktop/Python Projects/URL Shortener/url_shortener/src/InputURL.js"],"sourcesContent":["import { nanoid } from 'nanoid';\nimport { getDatabase,ref, set } from 'firebase/database'\n\nfunction InputURL({ setInputValue }) {\n\n    var longURL = ''\n    var errors = [];\n    var errorMessage = {};\n    const setValue = (value) => {\n        longURL = value\n    }\n\n    const handleClick = () => {\n        console.log('HERE')\n        setInputValue(generateShortLink(longURL));\n        longURL = ''\n\n    }\n\n    function isRealURL(string) {\n        try {\n          new URL(string);\n          return true;\n        } catch (err) {\n          return false;\n        }\n      }\n      \n\n    function validateURL(url) {\n        if (url.length===0){\n            errors.push(\"longURL\");\n            errorMessage[\"longURL\"] = \"Please enter your URL\";\n            console.log(\"Please enter your URL\")\n            return false;\n        }\n        else if(!isRealURL(longURL)){\n            errors.push(\"longURL\");\n            errorMessage[\"longURL\"] = \"Please a URL in the form https://www....\";\n            console.log(\"Please a URL in the form https://www....\")\n            return false;\n        }\n        else{\n            return true;\n        }\n    }\n\n    function generateShortLink() {\n        if (validateURL(longURL)) {\n            var generatedKey = nanoid(5);\n            var generateURL = \"shortify.com/\" + generatedKey;\n\n            const db = getDatabase()\n            set(ref(db, '/' + generatedKey), {\n                \n                generatedKey: generatedKey,\n                longURL: longURL,\n                generateURL: generateURL\n            }).catch((e) => {\n                console.log('FAILED')\n            })\n            return generateURL\n        }\n        else{\n            console.log(\"ERROR\")\n            console.log(longURL)\n        }\n\n    }\n\n    return (\n        <div className='inputContainer'>\n            <h1>URL <span>Shortener</span></h1>\n            <div class=\"container\">\n                <input\n                    id=\"input\"\n                    type=\"input\"\n                    class=\"inputfield\"\n                    placeholder=\"Your URL\"\n                    onChange={e => setValue(e.target.value)}\n                />\n                <button onClick={handleClick} type=\"button\" class=\"btn\">Submit</button>\n            </div>\n        </div>\n    )\n}\n\nexport default InputURL\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,QAAQ,CAC/B,OAASC,WAAW,CAACC,GAAG,CAAEC,GAAG,KAAQ,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExD,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAoB,IAAjB,CAAAC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CAE7B,GAAI,CAAAC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,MAAM,CAAG,EAAE,CACf,GAAI,CAAAC,YAAY,CAAG,CAAC,CAAC,CACrB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAK,CACxBJ,OAAO,CAAGI,KAAK,CACnB,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACtBC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnBR,aAAa,CAACS,iBAAiB,CAACR,OAAO,CAAC,CAAC,CACzCA,OAAO,CAAG,EAAE,CAEhB,CAAC,CAED,QAAS,CAAAS,SAASA,CAACC,MAAM,CAAE,CACvB,GAAI,CACF,GAAI,CAAAC,GAAG,CAACD,MAAM,CAAC,CACf,MAAO,KAAI,CACb,CAAE,MAAOE,GAAG,CAAE,CACZ,MAAO,MAAK,CACd,CACF,CAGF,QAAS,CAAAC,WAAWA,CAACC,GAAG,CAAE,CACtB,GAAIA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CACfd,MAAM,CAACe,IAAI,CAAC,SAAS,CAAC,CACtBd,YAAY,CAAC,SAAS,CAAC,CAAG,uBAAuB,CACjDI,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACpC,MAAO,MAAK,CAChB,CAAC,IACI,IAAG,CAACE,SAAS,CAACT,OAAO,CAAC,CAAC,CACxBC,MAAM,CAACe,IAAI,CAAC,SAAS,CAAC,CACtBd,YAAY,CAAC,SAAS,CAAC,CAAG,0CAA0C,CACpEI,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC,CACvD,MAAO,MAAK,CAChB,CAAC,IACG,CACA,MAAO,KAAI,CACf,CACJ,CAEA,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CACzB,GAAIK,WAAW,CAACb,OAAO,CAAC,CAAE,CACtB,GAAI,CAAAiB,YAAY,CAAG5B,MAAM,CAAC,CAAC,CAAC,CAC5B,GAAI,CAAA6B,WAAW,CAAG,eAAe,CAAGD,YAAY,CAEhD,GAAM,CAAAE,EAAE,CAAG7B,WAAW,CAAC,CAAC,CACxBE,GAAG,CAACD,GAAG,CAAC4B,EAAE,CAAE,GAAG,CAAGF,YAAY,CAAC,CAAE,CAE7BA,YAAY,CAAEA,YAAY,CAC1BjB,OAAO,CAAEA,OAAO,CAChBkB,WAAW,CAAEA,WACjB,CAAC,CAAC,CAACE,KAAK,CAAC,SAACC,CAAC,CAAK,CACZf,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACzB,CAAC,CAAC,CACF,MAAO,CAAAW,WAAW,CACtB,CAAC,IACG,CACAZ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACpBD,OAAO,CAACC,GAAG,CAACP,OAAO,CAAC,CACxB,CAEJ,CAEA,mBACIJ,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B3B,KAAA,OAAA2B,QAAA,EAAI,MAAI,cAAA7B,IAAA,SAAA6B,QAAA,CAAM,WAAS,CAAM,CAAC,EAAI,CAAC,cACnC3B,KAAA,QAAK4B,KAAK,CAAC,WAAW,CAAAD,QAAA,eAClB7B,IAAA,UACI+B,EAAE,CAAC,OAAO,CACVC,IAAI,CAAC,OAAO,CACZF,KAAK,CAAC,YAAY,CAClBG,WAAW,CAAC,UAAU,CACtBC,QAAQ,CAAE,SAAAA,SAAAP,CAAC,QAAI,CAAAlB,QAAQ,CAACkB,CAAC,CAACQ,MAAM,CAACzB,KAAK,CAAC,EAAC,CAC3C,CAAC,cACFV,IAAA,WAAQoC,OAAO,CAAEzB,WAAY,CAACqB,IAAI,CAAC,QAAQ,CAACF,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,QAAM,CAAQ,CAAC,EACtE,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAA1B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}